
<!doctype html>
<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Seccubus</title>

    <link href="/css/app.css" rel="stylesheet" />
    <script src="/js/vendor/modernizr.js"></script>
    <link rel="alternate" type="application/rss+xml" title="Seccubus" href="https://www.seccubus.com/feed.xml">
</head>
<body class="antialiased hide-extras">
    <nav class="top-bar" data-topbar role="navigation">
    <ul class="title-area">
        <li class="name">
            <h1><a href="/">Seccubus</a></h1>
        </li>
        <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>
    <section class="top-bar-section">
        <!-- Right Nav Section -->
        <ul class="right">
            

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/news/">
        News
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
     has-dropdown
">
    <a href="">
        About
    </a>
    
        <ul class="dropdown">
            

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/about/what-is-seccubus/">
        What is Seccubus?
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/about/about-the-authors/">
        About the authors
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/about/about-the-name/">
        About the name
    </a>
    
</li>


        </ul>
    
</li>

<li class="divider"></li>
<li class="
     active
    
     has-dropdown
">
    <a href="/documentation">
        Documentation
    </a>
    
        <ul class="dropdown">
            

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/documentation#v1">
        Version 1
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/documentation#v2">
        Version 2
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/documentation#faq">
        FAQ
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/mailing_list/subscribe/">
        Subscribe to Mailing List
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="/mailing_list/archive/">
        Mailing List Archive
    </a>
    
</li>


        </ul>
    
</li>

<li class="divider"></li>
<li class="
    
    
     has-dropdown
">
    <a href="https://github.com/schubergphilis/Seccubus_v2/">
        GitHub
    </a>
    
        <ul class="dropdown">
            

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="https://github.com/schubergphilis/Seccubus_v2/">
        Fork
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="https://github.com/schubergphilis/Seccubus_v2/issues">
        Issue tracker
    </a>
    
</li>

<li class="divider"></li>
<li class="
    
    
    
">
    <a href="https://github.com/schubergphilis/Seccubus_v2/releases">
        Download
    </a>
    
</li>


        </ul>
    
</li>

<li class="divider"></li>
<li class="
    
     has-form
    
">
    <a href="https://github.com/schubergphilis/Seccubus_v2/releases" class="button">
        Download
    </a>
    
</li>


        </ul>
    </section>
</nav>

    <section class="main-content article">
    <div class="large-9 medium-10 small-11 small-centered column">
        <h2>
            Post installation setup
        </h2>
        <div class="content post">
            <p>After the installation, there are a couple of things that you need to do:</p>

<ul>
<li>Changing file ownership and permissions</li>
<li>Setting up the www directory</li>
<li>Setting up the web server</li>
<li>Edit etc/config</li>
<li>Update www/seccubus.pm</li>
<li>Setting up update cron jobs</li>
</ul>

<hr>

<p>Changing file ownership and permissions</p>

<p>Your webserver will need to be able to read and execute files in the www
directory and read and write files in the var directory.</p>

<p>Assuming apache is your webserver user and seccubus is the user running
Seccubus you will need to do the following:</p>

<h1>cd ~seccubus</h1>
<div class="highlight"><pre><code class="language-text" data-lang="text"># chown -R seccubus:apache www var


# cd var


# find . -type f -exec chmod 664 {} ;


# find . -type d -exec chmod 775 {} ;


# cd ../www


# chmod 770 *
</code></pre></div>
<hr>

<p>Moving the www directory</p>

<p>By default the Seccubus installer stores the files for the Web GUI in a www
subdirectory of you install directory, this could be a place where your
webserver cannot go. You can move the directory to a place where it can be
read by the webserver and replace the www directory with a symlink. E.g. in
the demo setup we have chosen to install in /home/seccubus but we want the
demo gui to be in /var/www/seccubus.com/htdocs/demo</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"># cd ~seccubus  
# mv www /var/www/seccubus.com/htdocs/demo  
# ln -s /var/www/seccubus.com/htdocs/demo/ www
</code></pre></div>
<p>If you do not create a symlink like this you may experience upgrade problems
in the future.</p>

<hr>

<p>Setting up the webserver</p>

<p>By default your webserver will not run the .pl files, but simply serve them.
You need to put the following directive in the right part of you apache
configuration:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">AddHandler cgi-script .pl  
</code></pre></div>
<p>Then in the directory directive you have to add “ExecCGI” to the “Options”
directive. You may also want to use the Indexes directive.</p>

<p>You could create the file seccubus.conf and put it in your apache conf.d
directory (usually somethig like (/etc/apache2/conf.d). This file should than
have the following content:</p>

<p>————————————</p>

<p>AddHandler cgi-script .pl</p>

<p>Options ExecCGI</p>

<p>Order deny,allow</p>

<p>————————————</p>

<hr>

<p>Update etc/config</p>

<p>The etc directory in your installdir contains the file config which contains
the default configuration parameters of Seccubus which can be overwritten with
per scan settings.</p>

<p>If you do not allready have a configfile, you can copy config.dist to config.
The installer script will allready have updated the path to your installation
directory.</p>

<p>You will have to update the following parameters:</p>

<p>Configuration directive | What to put there<br>
---|---  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">HOST=&#39;&#39;                                 # This is the host running your nessusd 
</code></pre></div>
<p>| Up the IP address or hostname of the host running the nessus scanner here.
If you havenessus installed on the same box you can set it to localhost  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">PORT=1241                               # Nessusd port (1241 = default)
</code></pre></div>
<p>| This is the port you nessus daemon is listening on. 1241 is the default.  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text"> USER=&#39;&#39;                                 # Nessusd user name
</code></pre></div>
<p>| This is the default user name you will use to authenticate to your nessus
daemon  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">PASS=&#39;&#39;                                 # Nessusd password
</code></pre></div>
<p>| This is the default user name you will use to authenticate to your nessus
daemon  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">NESSUSBIN=/usr/bin/nessus               # The full path to your nessus client
</code></pre></div>
<p>| THis is the full path to your nessus client binary  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">EMAIL=&#39;&#39;                                # This is the default email address
</code></pre></div>
<p>| Default email address to mail results to  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">HOME=/home/seccubus/                     # Home location of seccubus
</code></pre></div>
<p>| This is set to the install directory by the installer script  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">VAR=$HOME/var                           # This is where the &#39;database&#39; lives
</code></pre></div>
<p>| THis should point to thevar directory where the ‘database’ lives  </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SENDMAIL=/usr/sbin/sendmail             # Path to sendmail
</code></pre></div>
<p>| The full path of you sendmail binary.  </p>

<hr>

<p>Update autopnessus.pm</p>

<p>The seccubusweb.pm file in www contains a line like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text"># You need to point this to where seccubus lives  
our $HOME = &quot;/home/seccubus/&quot;; 
</code></pre></div>
<p>This tells the web GUI part where to find the database. Normally this line
should be set by the install script.</p>

<p>You should now be ready to setup the first scan.</p>

<hr>

<p>Setting up update cron jobs</p>

<p>In order to make sure your configuration files are updated it is recommended
to setup a cronjob that runs bin/update-rcs e.g.</p>

<p>0 21 * * * ~/bin/update-rcs</p>

<p>This will update etc/full -nessusrc and etc/safe-nessusrc with theplug id’s
and preferences of the plugin’s loaded by the nessus daemon. update-rcs uses
you primary nessus scanner which you specified in etc/config.</p>

        </div>
    </div>
</section>

    </section>
    <script src="/js/vendor/jquery.js"></script>
    <script src="/js/foundation/foundation.js"></script>
    <script src="/js/foundation/foundation.topbar.js"></script>
    <script>
    $(document).foundation();
    </script>
</body>
</html>
